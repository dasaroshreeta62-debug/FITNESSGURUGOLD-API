# Use PHP routing for API
RewriteEngine On

# Allow existing files and directories
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Redirect all requests to index.php
RewriteRule ^ index.php [QSA,L]

# Security: prevent direct access to backend internals
<IfModule mod_rewrite.c>
RewriteRule ^(app|config|logs|repositories|services)/ - [F,L,NC]
</IfModule>